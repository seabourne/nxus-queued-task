# nxus-queued-task

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## QueuedTask

**Extends HasModels**

Queued Tasks.

The `completed` state of a task depends on its `progress`. A task is
completed when its progress value is 1.0 (or greater).

### createTask

Creates a queued task.

**Parameters**

-   `properties` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object))** initial properties; may be either
      a `name` string or an object containing `name`, `progress` and
      `taskData` properties.

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** created queued task entity

### createWorkerTask

Creates a queued task backed by a worker queue task.
It creates the queued task, then starts a worker queue task using
the queued task name, passing it the queued task entity. When the
worker task completes, the queued task is marked as completed.
If the worker task is successful, the `taskData` is updated with
its results; if it fails, its error status is added as a
`taskData.error` property.

Since the worker queue task has access to the queued task entity,
it can update the task `progress` state or `taskData` properties.

**Parameters**

-   `properties` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object))** initial properties; may be either
      a `name` string or an object containing `name`, `progress` and
      `taskData` properties.

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** created queued task entity

### updateTask

Updates a queued task.

**Parameters**

-   `id` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** id of queued task
-   `properties` **(float | [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object))** properties to update; may be
      either a `progress` float or an object containing `progress` and
      `taskData` properties (which update the existing `taskData`
      properties)

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** updated queued task entity

### getTask

Gets queued task entity.

**Parameters**

-   `id` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** id of queued task

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** queued task entity

### findTasks

Finds queued task entities.

**Parameters**

-   `query` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** query object

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)** queued task entities

### taskRequestRoute

Creates request route for the queued task.

-   POST _`route`_\`

**Parameters**

-   `route` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** URL for the route
-   `task` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function))** worker task name or task method;
      if passed a task name string, uses `createWorkerTask()` to
      initiate the task, passing it the task name and any initial
      `taskData` specified in the request body; if passed a function,
      it invokes it to initiate the task, passing it the request,
      expecting a task entity to be returned
